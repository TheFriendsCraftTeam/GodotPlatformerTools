[gd_scene load_steps=11 format=2]

[ext_resource path="res://addons/platformer_tools/tools/tools_mainscreen.gd" type="Script" id=1]
[ext_resource path="res://addons/platformer_tools/random_assets/lvl_default_thumbnails/trees.png" type="Texture" id=2]
[ext_resource path="res://addons/platformer_tools/tools/connection.svg" type="Texture" id=3]
[ext_resource path="res://addons/platformer_tools/tools/folder.svg" type="Texture" id=4]

[sub_resource type="StyleBoxEmpty" id=1]

[sub_resource type="Image" id=7]
data = {
"data": PoolByteArray( 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ),
"format": "LumAlpha8",
"height": 16,
"mipmaps": false,
"width": 16
}

[sub_resource type="ImageTexture" id=3]
flags = 4
flags = 4
image = SubResource( 7 )
size = Vector2( 16, 16 )

[sub_resource type="ButtonGroup" id=4]

[sub_resource type="StyleBoxTexture" id=5]
texture = ExtResource( 4 )
region_rect = Rect2( 0, 0, 16, 16 )
margin_right = 16.0
margin_top = 16.0

[sub_resource type="StyleBoxEmpty" id=6]

[node name="PlatformerTools" type="Control"]
anchor_right = 1.0
anchor_bottom = 1.0
size_flags_horizontal = 3
size_flags_vertical = 3
script = ExtResource( 1 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Tools" type="VBoxContainer" parent="."]
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = 3.0
margin_top = 3.0
margin_right = -3.0
margin_bottom = -3.0
size_flags_horizontal = 3
size_flags_vertical = 3
__meta__ = {
"_edit_use_anchors_": false
}

[node name="TopPanel" type="HBoxContainer" parent="Tools"]
margin_right = 1018.0
margin_bottom = 22.0

[node name="ToggleSidePanel" type="Button" parent="Tools/TopPanel"]
margin_right = 28.0
margin_bottom = 22.0
custom_styles/focus = SubResource( 1 )
toggle_mode = true
pressed = true
icon = SubResource( 3 )
flat = true

[node name="Worlds" type="Button" parent="Tools/TopPanel"]
margin_left = 32.0
margin_right = 120.0
margin_bottom = 22.0
disabled = true
toggle_mode = true
group = SubResource( 4 )
text = "World Maps"
flat = true

[node name="Areas" type="Button" parent="Tools/TopPanel"]
margin_left = 124.0
margin_right = 172.0
margin_bottom = 22.0
disabled = true
toggle_mode = true
group = SubResource( 4 )
text = "Areas"
flat = true

[node name="Levels" type="Button" parent="Tools/TopPanel"]
margin_left = 176.0
margin_right = 229.0
margin_bottom = 22.0
toggle_mode = true
pressed = true
group = SubResource( 4 )
text = "Levels"
flat = true

[node name="Nodes" type="Button" parent="Tools/TopPanel"]
margin_left = 233.0
margin_right = 286.0
margin_bottom = 22.0
disabled = true
toggle_mode = true
group = SubResource( 4 )
text = "Nodes"
flat = true

[node name="Assets" type="Button" parent="Tools/TopPanel"]
margin_left = 290.0
margin_right = 345.0
margin_bottom = 22.0
disabled = true
toggle_mode = true
group = SubResource( 4 )
text = "Assets"
flat = true

[node name="Settings" type="Button" parent="Tools/TopPanel"]
margin_left = 349.0
margin_right = 412.0
margin_bottom = 22.0
disabled = true
toggle_mode = true
group = SubResource( 4 )
text = "Settings"
flat = true

[node name="AboutHelp" type="Button" parent="Tools/TopPanel"]
margin_left = 416.0
margin_right = 514.0
margin_bottom = 22.0
disabled = true
toggle_mode = true
group = SubResource( 4 )
text = "About & Help"
flat = true

[node name="Items" type="HBoxContainer" parent="Tools/TopPanel"]
margin_left = 518.0
margin_right = 1018.0
margin_bottom = 22.0
size_flags_horizontal = 3
alignment = 2

[node name="CenterPanel" type="HSplitContainer" parent="Tools"]
margin_top = 26.0
margin_right = 1018.0
margin_bottom = 594.0
size_flags_vertical = 3

[node name="SidePanel" type="PanelContainer" parent="Tools/CenterPanel"]
margin_right = 178.0
margin_bottom = 568.0
rect_min_size = Vector2( 160, 0 )

[node name="Levels" type="VBoxContainer" parent="Tools/CenterPanel/SidePanel"]
margin_left = 7.0
margin_top = 7.0
margin_right = 171.0
margin_bottom = 561.0

[node name="Top" type="HBoxContainer" parent="Tools/CenterPanel/SidePanel/Levels"]
margin_right = 164.0
margin_bottom = 20.0

[node name="SizeBar" type="HSlider" parent="Tools/CenterPanel/SidePanel/Levels/Top"]
margin_right = 82.0
margin_bottom = 20.0
size_flags_horizontal = 3
size_flags_vertical = 1
size_flags_stretch_ratio = 0.75
min_value = 90.0
max_value = 450.0
step = 45.0
value = 90.0
scrollable = false

[node name="NewLvl" type="Button" parent="Tools/CenterPanel/SidePanel/Levels/Top"]
margin_left = 86.0
margin_right = 164.0
margin_bottom = 20.0
size_flags_horizontal = 3
size_flags_stretch_ratio = 0.25
text = "New Level"

[node name="Levels" type="ScrollContainer" parent="Tools/CenterPanel/SidePanel/Levels"]
margin_top = 24.0
margin_right = 164.0
margin_bottom = 554.0
size_flags_horizontal = 3
size_flags_vertical = 3
scroll_horizontal_enabled = false

[node name="Container" type="VBoxContainer" parent="Tools/CenterPanel/SidePanel/Levels/Levels"]
margin_right = 164.0
margin_bottom = 530.0
rect_min_size = Vector2( 160, 0 )
size_flags_horizontal = 3
size_flags_vertical = 3
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Lvl" type="VBoxContainer" parent="Tools/CenterPanel/SidePanel/Levels/Levels/Container"]
visible = false
margin_right = 164.0
margin_bottom = 156.0

[node name="LabelContainer" type="HBoxContainer" parent="Tools/CenterPanel/SidePanel/Levels/Levels/Container/Lvl"]
margin_right = 164.0
margin_bottom = 14.0
custom_constants/separation = 2

[node name="Label" type="Label" parent="Tools/CenterPanel/SidePanel/Levels/Levels/Container/Lvl/LabelContainer"]
margin_right = 91.0
margin_bottom = 14.0
text = "Test Level Tab"

[node name="Line" type="HSeparator" parent="Tools/CenterPanel/SidePanel/Levels/Levels/Container/Lvl/LabelContainer"]
margin_left = 93.0
margin_right = 164.0
margin_bottom = 14.0
size_flags_horizontal = 3

[node name="Thumbnail" type="TextureRect" parent="Tools/CenterPanel/SidePanel/Levels/Levels/Container/Lvl"]
margin_top = 18.0
margin_right = 164.0
margin_bottom = 108.0
size_flags_horizontal = 3
size_flags_vertical = 3
texture = ExtResource( 2 )
stretch_mode = 6

[node name="Button" type="Button" parent="Tools/CenterPanel/SidePanel/Levels/Levels/Container/Lvl/Thumbnail"]
anchor_right = 1.0
anchor_bottom = 1.0
custom_styles/hover = SubResource( 5 )
custom_styles/pressed = SubResource( 6 )
custom_styles/focus = SubResource( 6 )
custom_styles/disabled = SubResource( 6 )
custom_styles/normal = SubResource( 6 )
disabled = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="EditAndAdd" type="HBoxContainer" parent="Tools/CenterPanel/SidePanel/Levels/Levels/Container/Lvl"]
margin_top = 112.0
margin_right = 164.0
margin_bottom = 132.0

[node name="Edit" type="Button" parent="Tools/CenterPanel/SidePanel/Levels/Levels/Container/Lvl/EditAndAdd"]
margin_right = 56.0
margin_bottom = 20.0
size_flags_horizontal = 3
disabled = true
text = "Edit"

[node name="AddNode" type="Button" parent="Tools/CenterPanel/SidePanel/Levels/Levels/Container/Lvl/EditAndAdd"]
margin_left = 60.0
margin_right = 164.0
margin_bottom = 20.0
size_flags_horizontal = 3
text = "Add as a Node"

[node name="RenameAndDelete" type="HBoxContainer" parent="Tools/CenterPanel/SidePanel/Levels/Levels/Container/Lvl"]
margin_top = 136.0
margin_right = 164.0
margin_bottom = 156.0

[node name="Rename" type="Button" parent="Tools/CenterPanel/SidePanel/Levels/Levels/Container/Lvl/RenameAndDelete"]
margin_right = 65.0
margin_bottom = 20.0
size_flags_horizontal = 3
text = "Rename"

[node name="Delete" type="Button" parent="Tools/CenterPanel/SidePanel/Levels/Levels/Container/Lvl/RenameAndDelete"]
margin_left = 69.0
margin_right = 164.0
margin_bottom = 20.0
size_flags_horizontal = 3
text = "DELETE Level"

[node name="Editors" type="Control" parent="Tools/CenterPanel"]
margin_left = 190.0
margin_right = 1018.0
margin_bottom = 568.0

[node name="MapEditor" type="GraphEdit" parent="Tools/CenterPanel/Editors"]
anchor_right = 1.0
anchor_bottom = 1.0
right_disconnects = true
use_snap = false
__meta__ = {
"_edit_use_anchors_": false
}

[node name="StartNode" type="GraphNode" parent="Tools/CenterPanel/Editors/MapEditor"]
margin_left = 80.0
margin_top = 120.0
margin_right = 285.0
margin_bottom = 171.0
mouse_filter = 1
custom_icons/port = ExtResource( 3 )
title = "Start"
offset = Vector2( 80, 120 )
slot/0/left_enabled = false
slot/0/left_type = 0
slot/0/left_color = Color( 1, 1, 1, 1 )
slot/0/right_enabled = true
slot/0/right_type = 0
slot/0/right_color = Color( 1, 1, 1, 1 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Label" type="Label" parent="Tools/CenterPanel/Editors/MapEditor/StartNode"]
margin_left = 16.0
margin_top = 24.0
margin_right = 189.0
margin_bottom = 38.0
text = "When the game starts"

[node name="EndNode" type="GraphNode" parent="Tools/CenterPanel/Editors/MapEditor"]
margin_left = 600.0
margin_top = 200.0
margin_right = 770.0
margin_bottom = 251.0
mouse_filter = 1
custom_icons/port = ExtResource( 3 )
title = "End"
offset = Vector2( 600, 200 )
slot/0/left_enabled = true
slot/0/left_type = 0
slot/0/left_color = Color( 1, 1, 1, 1 )
slot/0/right_enabled = false
slot/0/right_type = 0
slot/0/right_color = Color( 1, 1, 1, 1 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Label" type="Label" parent="Tools/CenterPanel/Editors/MapEditor/EndNode"]
margin_left = 16.0
margin_top = 24.0
margin_right = 154.0
margin_bottom = 38.0
text = "End of the World"

[node name="HiddenNodes" type="Control" parent="Tools/CenterPanel/Editors/MapEditor"]
visible = false
__meta__ = {
"_edit_use_anchors_": false
}

[node name="LvlNode" type="GraphNode" parent="Tools/CenterPanel/Editors/MapEditor/HiddenNodes"]
margin_left = 350.0
margin_top = 150.0
margin_right = 566.0
margin_bottom = 270.0
mouse_filter = 1
custom_icons/port = ExtResource( 3 )
title = "Level"
offset = Vector2( 350, 150 )
show_close = true
slot/0/left_enabled = true
slot/0/left_type = 0
slot/0/left_color = Color( 1, 1, 1, 1 )
slot/0/right_enabled = true
slot/0/right_type = 0
slot/0/right_color = Color( 1, 1, 1, 1 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Thumbnail" type="TextureRect" parent="Tools/CenterPanel/Editors/MapEditor/HiddenNodes/LvlNode"]
margin_left = 16.0
margin_top = 24.0
margin_right = 200.0
margin_bottom = 114.0
texture = ExtResource( 2 )

[node name="NewLvl" type="WindowDialog" parent="."]
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_left = -200.0
margin_top = -50.0
margin_right = 200.0
margin_bottom = 50.0
rect_min_size = Vector2( 400, 100 )
popup_exclusive = true
window_title = "New Level"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Container" type="VBoxContainer" parent="NewLvl"]
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = 4.0
margin_top = 4.0
margin_right = -4.0
margin_bottom = -4.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="LvlName" type="LineEdit" parent="NewLvl/Container"]
margin_right = 392.0
margin_bottom = 24.0
placeholder_text = "Level Name [id] (cannot be blank)"

[node name="Error" type="RichTextLabel" parent="NewLvl/Container"]
visible = false
margin_top = 28.0
margin_right = 392.0
margin_bottom = 43.0
bbcode_enabled = true
bbcode_text = "[color=red]Error goes here"
text = "Error goes here"
fit_content_height = true
scroll_active = false

[node name="Buttons" type="HBoxContainer" parent="NewLvl/Container"]
margin_top = 72.0
margin_right = 392.0
margin_bottom = 92.0
size_flags_vertical = 10

[node name="Cancel" type="Button" parent="NewLvl/Container/Buttons"]
margin_right = 194.0
margin_bottom = 20.0
size_flags_horizontal = 3
text = "Whops, wrong button..."

[node name="Ok" type="Button" parent="NewLvl/Container/Buttons"]
margin_left = 198.0
margin_right = 392.0
margin_bottom = 20.0
size_flags_horizontal = 3
text = "LET'S DO THIS!!"

[node name="RenameLvl" type="WindowDialog" parent="."]
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_left = -200.0
margin_top = -50.0
margin_right = 200.0
margin_bottom = 50.0
rect_min_size = Vector2( 400, 100 )
popup_exclusive = true
window_title = "Rename Level (Lvl Name)"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Container" type="VBoxContainer" parent="RenameLvl"]
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = 4.0
margin_top = 4.0
margin_right = -4.0
margin_bottom = -4.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="LvlName" type="LineEdit" parent="RenameLvl/Container"]
margin_right = 392.0
margin_bottom = 24.0
placeholder_text = "New Name [id] (cannot be blank or another Level's)"

[node name="Error" type="RichTextLabel" parent="RenameLvl/Container"]
visible = false
margin_top = 28.0
margin_right = 392.0
margin_bottom = 58.0
bbcode_enabled = true
bbcode_text = "[color=red]Ehm, look up. It's written that the new id can't be blank or another level's id. Try again."
text = "Ehm, look up. It's written that the new id can't be blank or another level's id. Try again."
fit_content_height = true
scroll_active = false

[node name="Buttons" type="HBoxContainer" parent="RenameLvl/Container"]
margin_top = 72.0
margin_right = 392.0
margin_bottom = 92.0
size_flags_vertical = 10

[node name="Cancel" type="Button" parent="RenameLvl/Container/Buttons"]
margin_right = 194.0
margin_bottom = 20.0
size_flags_horizontal = 3
text = "Um, changed idea..."

[node name="Ok" type="Button" parent="RenameLvl/Container/Buttons"]
margin_left = 198.0
margin_right = 392.0
margin_bottom = 20.0
size_flags_horizontal = 3
text = "LET'S RENAME THIS!!"

[node name="DeleteLvl" type="WindowDialog" parent="."]
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_left = -250.0
margin_top = -80.0
margin_right = 250.0
margin_bottom = 60.0
rect_min_size = Vector2( 500, 140 )
custom_colors/title_color = Color( 1, 0.72549, 0, 1 )
window_title = "DELETE a Level?? ()"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Container" type="VBoxContainer" parent="DeleteLvl"]
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = 4.0
margin_top = 4.0
margin_right = -4.0
margin_bottom = -4.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Message" type="RichTextLabel" parent="DeleteLvl/Container"]
margin_right = 492.0
margin_bottom = 108.0
size_flags_vertical = 3
bbcode_enabled = true
bbcode_text = "So, you want to [color=red]DELETE A LEVEL[/color]. If you click that button, the Level will be gone [color=red]FOREVER[/color] (the assets won't be deleted). Also this may cause some crashes or bugs  in your game if you don't remove it from the WorldMap. Well, now it's your choice, life or death. Be wise."
text = "So, you want to DELETE A LEVEL. If you click that button, the Level will be gone FOREVER (the assets won't be deleted). Also this may cause some crashes or bugs  in your game if you don't remove it from the WorldMap. Well, now it's your choice, life or death. Be wise."
scroll_active = false

[node name="Error" type="RichTextLabel" parent="DeleteLvl/Container"]
visible = false
margin_top = 78.0
margin_right = 492.0
margin_bottom = 108.0
bbcode_enabled = true
bbcode_text = "[color=red]WOW, seems like we got an error, check the console for details. The Level may (or may not) be deleted, so you might want to delete it manually."
text = "WOW, seems like we got an error, check the console for details. The Level may (or may not) be deleted, so you might want to delete it manually."
fit_content_height = true
scroll_active = false

[node name="KillButton" type="Button" parent="DeleteLvl/Container"]
margin_top = 112.0
margin_right = 492.0
margin_bottom = 132.0
text = "Yes, KILL it. (-500 karma)"
[connection signal="toggled" from="Tools/TopPanel/ToggleSidePanel" to="." method="_on_SidePanel_toggled"]
[connection signal="value_changed" from="Tools/CenterPanel/SidePanel/Levels/Top/SizeBar" to="." method="_on_SizeBar_value_changed"]
[connection signal="pressed" from="Tools/CenterPanel/SidePanel/Levels/Top/NewLvl" to="NewLvl" method="popup"]
[connection signal="connection_request" from="Tools/CenterPanel/Editors/MapEditor" to="." method="_on_MapEditor_connection_request"]
[connection signal="disconnection_request" from="Tools/CenterPanel/Editors/MapEditor" to="." method="_on_MapEditor_disconnection_request"]
[connection signal="pressed" from="NewLvl/Container/Buttons/Cancel" to="NewLvl" method="hide"]
[connection signal="pressed" from="NewLvl/Container/Buttons/Ok" to="." method="_on_level_created"]
[connection signal="pressed" from="RenameLvl/Container/Buttons/Cancel" to="RenameLvl" method="hide"]
[connection signal="pressed" from="RenameLvl/Container/Buttons/Ok" to="." method="rename_active_lvl"]
[connection signal="pressed" from="DeleteLvl/Container/KillButton" to="." method="delete_active_lvl"]
